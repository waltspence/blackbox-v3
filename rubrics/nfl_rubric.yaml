# NFL Rubric - Bet Quality Grading
# Specialized rubric for National Football League betting
# Accounts for sport-specific factors: injuries, weather, rest days, matchup variance

metadata:
  sport: NFL
  description: Comprehensive 5-dimension rubric for NFL bet quality assessment
  version: 2.0
  last_updated: 2025-11-08

# ============================================================================
# RUBRIC DIMENSIONS (5 total, weighted)
# ============================================================================

dimensions:
  
  # Dimension 1: Edge Quality (Weight: 0.35)
  # Measures statistical significance of identified edge vs. market
  edge_quality:
    weight: 0.35
    description: |
      Quantifies the depth and reliability of the identified edge.
      For NFL, must account for matchup dynamics, team trends, and situational factors.
      Limited games per team per season (17) means small sample noise is high.
    scoring:
      1.0:
        - Edge verified by 3+ independent methods (trends, matchup, Vegas movement)
        - Historical WR > 55% across 50+ similar situations
        - Multiple data sources confirm edge
      0.85:
        - Edge verified by 2 independent methods
        - Historical WR 52-55% across 30-50 similar situations
        - Partial confirmation across sources
      0.70:
        - Edge verified by 1 primary method (e.g., trend advantage)
        - Historical WR 50-52% across 20-30 situations
        - Limited data but statistically meaningful
      0.50:
        - Edge identified but limited verification
        - Historical WR near 50% or very small sample
      0.25:
        - Weak statistical edge
        - Minimal validation data
      0.0:
        - No edge identified
        - OR edge fails verification tests

  # Dimension 2: Injury Impact (Weight: 0.25)
  # NFL-specific: injuries dramatically alter team quality and matchup dynamics
  injury_impact:
    weight: 0.25
    description: |
      Measures roster health and key player availability.
      Star QB, RB, WR, or defensive player injuries can invalidate thesis.
      Must be confirmed within 48 hours of game time.
    scoring:
      1.0:
        - All key position players available and healthy
        - No major injury concerns for either team
        - Full depth charts intact
      0.85:
        - All star players available
        - Minor depth player injured (backup RB, special teams)
      0.70:
        - One key rotational player out (depth WR or DB)
        - Does not affect core matchup thesis
      0.50:
        - One important rotational player injured
        - May affect matchup but thesis still holds
      0.25:
        - Multiple key rotational players out OR one star questionable
        - Significant impact on expected outcome
      0.0:
        - Star player (QB, elite pass rusher, shutdown CB) out or injured
        - Cannot confidently project matchup outcome

  # Dimension 3: Rest & Schedule Context (Weight: 0.15)
  # NFL-specific: back-to-backs, short weeks, travel fatigue all matter
  rest_schedule_context:
    weight: 0.15
    description: |
      Measures rest advantages and scheduling disadvantages.
      Playing on short rest (3-4 days) affects performance.
      Back-to-back games or cross-country travel create fatigue.
    scoring:
      1.0:
        - Both teams have equal rest (7 days)
        - No scheduling advantages or disadvantages
      0.85:
        - One team has slight rest advantage (1-2 days)
        - No major travel considerations
      0.70:
        - Meaningful rest advantage (2-3 days) to favored team
        - Minor travel (same region)
      0.50:
        - Significant rest disadvantage to pick (short week play)
        - OR cross-country travel for underdog
      0.25:
        - Major rest disadvantage (back-to-back games)
        - Cross-country travel with short week
      0.0:
        - Severe disadvantage (very short week + travel)
        - Expected fatigue likely affects outcome

  # Dimension 4: Market Efficiency (Weight: 0.15)
  # Assesses liquidity and line movement dynamics for execution
  market_efficiency:
    weight: 0.15
    description: |
      Measures market depth and line stability.
      Better efficiency = more reliable odds, less slippage.
      NFL markets are among the most liquid sports betting markets.
    scoring:
      1.0:
        - Very high volume across major books (> 2M combined)
        - Line stable within ±0.25 across books
        - Extremely tight bid-ask spreads
      0.85:
        - High volume (1M-2M)
        - Line movement ±0.5 across books
      0.70:
        - Good volume (500K-1M)
        - Line movement ±0.75
      0.50:
        - Moderate volume (250K-500K)
        - Line movement ±1.5
      0.25:
        - Lower volume (100K-250K)
        - Significant line movement or sharp activity
      0.0:
        - Thin market or extreme line movement
        - High execution risk

  # Dimension 5: Volatility & Context Risk (Weight: 0.10)
  # NFL-specific: playoff games, division rivalries, desperation scenarios
  volatility_context:
    weight: 0.10
    description: |
      Quantifies expected outcome variance and unpredictability.
      Regular season games are more predictable than playoff/week 18 scenarios.
      Divisional rivalries and "trap" games increase variance.
    scoring:
      1.0:
        - Early-mid season game (weeks 3-12)
        - Non-rival matchup
        - Neutral motivation
      0.85:
        - Regular season game with slight motivation (playoff seeding)
        - Defined roles (clear favorites)
      0.70:
        - Late-season game (week 13+) with playoff implications
        - Possible rivalry (reduced variance)
      0.50:
        - Division rival game
        - Higher motivation for underdog
      0.25:
        - Week 18 (playoffs-deciding) OR playoff game
        - Extreme variance potential
      0.0:
        - Playoff game with desperation scenario
        - Outcome highly unpredictable

# ============================================================================
# GRADING SCALE
# ============================================================================

grading_scale:
  formula: |
    RUBRIC_SCORE = (edge_quality × 0.35) +
                   (injury_impact × 0.25) +
                   (rest_schedule_context × 0.15) +
                   (market_efficiency × 0.15) +
                   (volatility_context × 0.10)
  
  grades:
    A:
      range: [0.85, 1.0]
      interpretation: |
        Elite-quality bet. No injury concerns, good rest, strong edge.
        These are target bets for maximum allocation.
    
    B:
      range: [0.70, 0.85)
      interpretation: |
        Strong-quality bet. Core edge solid, reasonable injury/rest profile.
        Recommend 75-100% of standard allocation.
    
    C:
      range: [0.55, 0.70)
      interpretation: |
        Decent-quality bet. Edge present but injury or rest concerns.
        Recommend 50-75% of standard allocation.
    
    D:
      range: [0.40, 0.55)
      interpretation: |
        Below-average quality. Multiple concerns (injuries, rest, volatility).
        Recommend 25-50% of standard allocation (skip if key injury to favored team).
    
    F:
      range: [0.0, 0.40)
      interpretation: |
        Fail. Do not bet.
        Too many failures or star player injury.
        Recommend PASS entirely.

# ============================================================================
# APPLICATION RULES
# ============================================================================

application_rules:
  
  minimum_thresholds:
    edge_quality:
      description: "Edge quality must be verifiable, not speculative"
      minimum_score: 0.50
      rationale: "Without statistical edge, all else is noise"
    
    injury_impact:
      description: "Key players must be healthy"
      minimum_score: 0.70
      rationale: "Star player injuries invalidate thesis"
    
    market_efficiency:
      description: "Market must allow execution"
      minimum_score: 0.50
      rationale: "Execution risk erodes edge"
  
  all_dimensions_required: |
    Do not skip dimensions. Each requires explicit evaluation.
    If any dimension is 0.0, recommend PASS unless edge is exceptional.
  
  no_soft_signals: |
    Use only quantified dimensions for grading.
    Do not add subjective adjustments or "gut feel".
    Grading is mechanical and transparent.

# ============================================================================
# INTEGRATION WITH SYSTEM
# ============================================================================

integration:
  
  rsi_model_connection: |
    RUBRIC_SCORE feeds into RSI calculation.
    High rubric scores reduce overall RSI (lower risk perception).
    Low rubric scores increase overall RSI (higher risk perception).
  
  exposure_logic_connection: |
    Rubric scores influence allocation sizing.
    Grade A bets → allow higher individual allocation
    Grade D/F bets → recommend lower or zero allocation
    User retains final decision on sizing.
  
  user_autonomy_preserved: |
    Rubric is informational, never blocking.
    Low rubric score does NOT prevent execution.
    All allocation decisions remain with user.
    System surfaces the grade; user pulls the trigger.

# ============================================================================
# EXAMPLE CALCULATION
# ============================================================================

example_bet:
  matchup: "Kansas City Chiefs vs Buffalo Bills (playoff scenario)"
  pick: "Chiefs -3.5"
  
  dimension_scores:
    edge_quality: 0.82
    injury_impact: 0.88
    rest_schedule_context: 0.80
    market_efficiency: 0.92
    volatility_context: 0.60
  
  calculation: |
    RUBRIC_SCORE = (0.82 × 0.35) + (0.88 × 0.25) + (0.80 × 0.15) + (0.92 × 0.15) + (0.60 × 0.10)
    RUBRIC_SCORE = 0.287 + 0.22 + 0.12 + 0.138 + 0.06
    RUBRIC_SCORE = 0.825
  
  grade: "B" # Range: 0.70-0.85 (playoff context lowers volatility score)
  
  allocation_recommendation: "85% of standard unit (considering playoff uncertainty)"
